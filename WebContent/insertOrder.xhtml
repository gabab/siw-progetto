<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="templates/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:b="http://bootsfaces.net/ui">
    <ui:define name="title">Insert Order</ui:define>

    <ui:define name="content">
        <b:container>
            <f:view>
                <!--<h1>New Order</h1>-->
                <!--<hr/>-->
                <!--Opened on: #{customer.currentOrder.opened}-->
                <!--<b:row styleClass="table-responsive">-->
                    <!--<h:dataTable styleClass="table table-striped" value="#{customer.currentOrder}" var="ol">-->
                        <!--<h:column>-->
                            <!--<f:facet name="header">Product</f:facet>-->
                            <!--<h:outputText value="#{ol.product.name}"/>-->
                        <!--</h:column>-->
                        <!--<h:column>-->
                            <!--<f:facet name="header">Unit Price</f:facet>-->
                            <!--<h:outputText value="#{config.getPrice(ol.unitPrice)}"/>-->
                        <!--</h:column>-->
                        <!--<h:column>-->
                            <!--<f:facet name="header">Quantity</f:facet>-->
                            <!--<h:outputText value="#{ol.quantity}"/>-->
                        <!--</h:column>-->
                        <!--<h:column>-->
                            <!--<f:facet name="header">Subtotal</f:facet>-->
                            <!--<h:outputText value="#{config.getPrice(ol.subTotal)}"/>-->
                        <!--</h:column>-->
                    <!--</h:dataTable></b:row>-->
                <h:form>
                <table>
                <tr>
                <th>Product</th>
                <th>UnitPrice</th>
                <th>Quantity</th>
                <th>Sub Total</th>
                </tr>
                <ui:repeat var="ol" value="#{customer.currentOrder.items}">
                <tr>
                <td>#{ol.product.name}</td>
                <td>#{config.getPrice(ol.unitPrice)}</td>
                <td>#{ol.quantity}</td>
                <td>#{config.getPrice(ol.subTotal)}</td>
                </tr>
                </ui:repeat>
                </table>
                <br/>


                <!--<h:form>-->
                    <h1>Total before taxes: </h1> #{customer.currentOrder.total}
                    <h1>Taxes: </h1> #{config.getTaxes(customer.currentOrder.total)}
                    <h1>Total: </h1> #{config.getPrice(customer.currentOrder.total)}
                    <br/>
                    Add another item:
                    <b:inputText label="Product Code"
                                 value="#{customer.productCode}"
                                 required="true"
                                 requiredMessage="Code is mandatory"
                            />
                    <b:inputText label="Quantity" value="#{customer.quantity}"/>
                    <b:commandButton value="Add" action="#{customer.addToOrder()}"/>

                    <br/>
                    <br/>
                    <h:commandButton value="Close Order" action="#{customer.closeOrder}"
                                     class="btn btn-default"/>
                </h:form>
            </f:view>
        </b:container>
    </ui:define>
</ui:composition>