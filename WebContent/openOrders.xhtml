<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="templates/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="title">Open Orders</ui:define>

    <ui:define name="content">
        <h1>My Orders</h1>
        <f:view>
            <h:form>
                <table>
                    <tr>
                        <th>Opened</th>
                        <th>Closed</th>
                        <th/>
                    </tr>
                    <ui:repeat var="o" value="#{customerHandler.orders}">
                        <tr>
                            order
                            <td>#{o.opened}</td>
                            <td>#{o.closed}</td>
                            <td>#{o.processed}</td>
                            <td><h:commandLink action="#{adminHandler.viewOrderDetails}" value="Details"/></td>
                            <td><h:commandLink action="#{adminHandler.processOrder(o.id)}" value="Process"/></td>
                        </tr>
                    </ui:repeat>
                </table>
            </h:form>
        </f:view>
    </ui:define>
</ui:composition>