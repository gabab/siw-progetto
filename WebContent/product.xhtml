<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="templates/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="title">#{userController.product.name}</ui:define>


    <ui:define name="content">
        <b:container>
            <b:row id="infobox">
                <b:column span="5">
                    <b:thumbnail>
                        <h:graphicImage name="#{utils.getImagePath(userController.product.code)}" height="500"
                                        width="500"/>
                    </b:thumbnail>
                </b:column>
                <b:column span="7">
                    <h1>#{userController.product.name}</h1>
                    <br/>
                    <b>Price:</b> #{utils.getPrice(userController.product.price)}
                    <br/>
                    <b>Code:</b> #{userController.product.code}
                    <br/>
                    <br/>
                    <f:view>
                        <h:form>
                            <b:inputText type="number" value="#{customerHandler.quantity}" span="1"/>

                            <b:commandButton
                                    value="Add to Cart"
                                    icon="shopping-cart"
                                    look="success"
                                    action="#{customerHandler.addToCart(userController.product.code)}">
                            </b:commandButton>


                        </h:form>
                    </f:view>
                    <b:modal id="amodal" title="Insert Address">
                    <b:alert severity="danger"
                    closable="true"
                    rendered="#{not empty facesContext.messageList}">
                    There where errors:<br/>
                    <h:messages/>
                    </b:alert>
                    <f:view>
                    <h:form>
                    <ui:include src="templates/snippets/address.xhtml"/>
                    </h:form>
                    </f:view>
                    </b:modal>


                    <a id="atrigger" class="btn btn-primary btn-lg" href="#amodal"
                    data-toggle="modal">Trigger (HTML A tag)</a>

                    <!--<b:button value="Trigger (JSF passthrough)" look="success" p:data-target="#amodal" p:data-toggle="modal" onclick="return false;" size="lg"/>-->

                    <button id="btrigger" class="btn btn-info btn-lg" data-target="#amodal"
                    data-toggle="modal">Trigger (HTML Button)
                    </button>


                    <br/>
                </b:column>
            </b:row>
            <b:row id="descbox">
                <b:column>
                    <b:panel title="Description" look="info">
                        #{userController.product.description}
                    </b:panel>
                </b:column>
            </b:row>
        </b:container>
    </ui:define>
</ui:composition>
