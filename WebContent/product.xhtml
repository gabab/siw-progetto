<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="templates/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="title">#{products.product.name}</ui:define>

    <ui:define name="content">


        <b:container>
            <b:modal id="image-popup" title="">
                <h:graphicImage name="#{config.getImagePath(products.product.code)}"/>
            </b:modal>
            <b:row id="infobox">
                <b:column span="5">
                    <b:thumbnail>
                        <h:graphicImage name="#{config.getImagePath(products.product.code)}" height="500"
                                        width="500"/>
                        <f:facet name="caption">
                            <button class="btn btn-default btn-sm" data-target="#image-popup" data-toggle="modal">
                                <b:icon name="zoom-in"/></button>
                        </f:facet>
                    </b:thumbnail>
                </b:column>
                <b:column span="7">
                    <h1>#{products.product.name}</h1>
                    <br/>
                    <b>Price:</b> #{config.getPrice(products.product.price)}
                    <br/>
                    <b>Code:</b> #{products.product.code}
                    <br/>
                    <br/>
                    <f:view>
                        <h:form>
                            <b:inputText type="number" value="#{customer.quantity}" span="1"/>

                            <b:commandButton
                                    value="Add to Cart"
                                    icon="shopping-cart"
                                    look="success"
                                    action="#{customer.addToCart(products.product.code)}">
                            </b:commandButton>


                        </h:form>
                    </f:view>

                    <!--DA SPOSTARE-->
                    <!--<b:modal id="amodal" title="Insert Address">-->
                    <!--<b:alert severity="danger"-->
                    <!--closable="true"-->
                    <!--rendered="#{not empty facesContext.messageList}">-->
                    <!--There where errors:<br/>-->
                    <!--<h:messages/>-->
                    <!--</b:alert>-->
                    <!--<f:view>-->
                    <!--<h:form>-->
                    <!--<ui:include src="templates/snippets/address.xhtml"/>-->
                    <!--</h:form>-->
                    <!--</f:view>-->
                    <!--</b:modal>-->


                    <!--<a id="atrigger" class="btn btn-primary btn-lg" href="#amodal"-->
                    <!--data-toggle="modal">Trigger (HTML A tag)</a>-->

                    <!--&lt;!&ndash;<b:button value="Trigger (JSF passthrough)" look="success" p:data-target="#amodal" p:data-toggle="modal" onclick="return false;" size="lg"/>&ndash;&gt;-->

                    <!--<button id="btrigger" class="btn btn-info btn-lg" data-target="#amodal"-->
                    <!--data-toggle="modal">Trigger (HTML Button)-->
                    <!--</button>-->


                    <br/>
                </b:column>
            </b:row>
            <b:row id="descbox">
                <b:column>
                    <b:panel title="Description" look="info">
                        #{products.product.description}
                    </b:panel>
                </b:column>
            </b:row>
        </b:container>
    </ui:define>
</ui:composition>
