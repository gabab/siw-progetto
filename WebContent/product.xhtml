<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="templates/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://java.sun.com/jsf/composite">
    <ui:define name="title">#{userController.product.name}</ui:define>



    <ui:define name="content">
        <b:container>
            <b:row id="infobox">
                <b:column span="3">
                    <b:thumbnail>
                        <o:graphicImage value="#{imageController.getImage(userController.product.code)}"/>
                    </b:thumbnail>
                </b:column>
                <b:column span="8">
                    <h1>#{userController.product.name}</h1>
                    <br/>
                    <b>Price:</b> #{utils.getPrice(userController.product.price)}
                    <br/>
                    <b>Code:</b> #{userController.product.code}
                    <br/>
                    <br/>
                    <f:view>
                        <h:form>
                            <b:commandButton
                                    value="Add to Cart"
                                    icon="shopping-cart"
                                    look="success"
                                    action="#{customerHandler.addToCart(userController.product.code)}">
                            </b:commandButton>


                        </h:form>
                    </f:view>
                    <b:modal id="amodal" title="Insert Address">
                        <ui:include src="templates/address.xhtml"/>
                        <f:facet name="footer">
                            <h:form>
                            <!--<b:commandButton look="primary" value="Insert" action="#{addressController.insertAddress(customerHandler.currentCustomer)}"/>-->
                            <b:button value="Ok" look="primary" dismiss="modal" onclick="return false;" disabled="#{!customerHandler.existsAddress}"/>
                        </h:form>
                        </f:facet>
                    </b:modal>


                    <a id="atrigger" class="btn btn-primary btn-lg" href="#amodal" data-toggle="modal">Trigger (HTML A tag)</a>

                    <!--<b:button value="Trigger (JSF passthrough)" look="success" p:data-target="#amodal" p:data-toggle="modal" onclick="return false;" size="lg"/>-->

                    <button id="btrigger" class="btn btn-info btn-lg" data-target="#amodal" data-toggle="modal">Trigger (HTML Button)</button>


                    <br/>
                </b:column>
            </b:row>
            <b:row id="descbox">
                <b:column>
                    <b:panel title="Description">
                        #{userController.product.description}
                    </b:panel>
                </b:column>
            </b:row>
        </b:container>
    </ui:define>
</ui:composition>
