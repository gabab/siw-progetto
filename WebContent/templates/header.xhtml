<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
<ui:composition>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"/>
                    <span class="icon-bar"/>
                    <span class="icon-bar"/>
                </button>
                <a class="navbar-brand" href="/">SIWShop</a>
            </div>
            <div class="navbar-collapse collapse">
                <f:view>
                    <h:form>
                        <h:outputText value="#{login.user.name}" rendered="#{login.loggedIn}"/>
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="#">Dashboard</a></li>
                            <li><h:outputLink id="register" value="register"
                                              rendered="#{!login.loggedIn}">Register</h:outputLink>
                                <h:outputLink id="page" value="userpage.xhtml"
                                              rendered="#{login.loggedIn}">My Page</h:outputLink></li>
                            <li>
                                <h:outputLink id="cart" value="shoppingCart.xhtml"
                                              rendered="#{login.customer}">
                                    Cart
                                    <h:outputText rendered="#{customerHandler.currentOrder.items > 0}">
                                        (#{customerHandler.currentOrder.items})
                                    </h:outputText>
                                </h:outputLink>
                            </li>
                            <li>
                                <h:outputLink id="login" value="/login"
                                              rendered="#{!login.loggedIn}">Login</h:outputLink>
                                <h:outputLink id="logout" value="/logout" rendered="#{login.loggedIn}">
                                    Logout
                                </h:outputLink>
                            </li>
                            <li><a href="#">Help</a></li>
                        </ul>
                    </h:form>
                    <h:form class="navbar-form navbar-right">
                        <h:inputText class="form-control" value="#{userController.searchterm}"/>
                        <h:commandLink action="#{userController.searchProducts}" value="" styleClass="btn btn-default"
                                       aria-label="Left Align">
                            <i class="glyphicon glyphicon-search" aria-hidden="true"/>
                        </h:commandLink>
                    </h:form>
                </f:view>
            </div>
        </div>
    </div>
</ui:composition>
</html>